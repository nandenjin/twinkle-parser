import { ParsedRow } from '../../src/ParsedRow'
import { KDBData } from '../../types'

export const header = [
  '科目番号',
  '科目名',
  '授業方法',
  '単位数',
  '標準履修年次',
  '実施学期',
  '曜時限',
  '教室',
  '担当教員',
  '授業概要',
  '備考',
  '科目等履修生申請可否',
  '申請条件',
  '短期留学生申請可否',
  '申請条件',
  '英語(日本語)科目名',
  '科目コード',
  '要件科目名',
  'データ更新日',
]

export const sampleData = [
  [
    'CL00000',
    '英語(日本語)',
    '1',
    '2',
    '1',
    '春AB',
    '月2-4',
    '教室名',
    '教員名',
    '授業概要サンプル',
    '備考サンプル',
    '○',
    '',
    '○',
    '',
    'English (Japanese) I',
    'CL00000',
    '英語(日本語)',
    '2023-05-31 16:07:30',
  ],
  [
    'CL00001',
    '日本語',
    '1',
    '2',
    '1',
    '秋ABC',
    '火4',
    '教室名',
    '教員名',
    '授業概要サンプル',
    '備考サンプル',
    '○',
    '',
    '○',
    '',
    'Japanese I',
    'CL00001',
    '日本語',
    '2023-05-31 16:07:30',
  ],
]

export const sampleParsedRow: ParsedRow[] = [
  {
    courseNumber: 'CL00000',
    courseName: '英語(日本語)',
    instructionalType: '1',
    credits: '2',
    standardRegistrationYear: '1',
    term: '春AB',
    period: '月2-4',
    classroom: '教室名',
    instructor: '教員名',
    courseOverview: '授業概要サンプル',
    remarks: '備考サンプル',
    statusForAuditor: '○',
    statusForExchangeStudent: '○',
    updatedAt: '2023-05-31 16:07:30',
  },
  {
    courseNumber: 'CL00001',
    courseName: '日本語',
    instructionalType: '1',
    credits: '2',
    standardRegistrationYear: '1',
    term: '秋ABC',
    period: '火4',
    classroom: '教室名',
    instructor: '教員名',
    courseOverview: '授業概要サンプル',
    remarks: '備考サンプル',
    statusForAuditor: '○',
    statusForExchangeStudent: '○',
    updatedAt: '2023-05-31 16:07:30',
  },
]

export const sampleParsedData: KDBData = {
  CL00000: {
    title: '英語(日本語)',
    type: 1,
    unit: 2,
    targets: [1],
    termStr: '春AB',
    periodStr: '月2-4',
    terms: [0, 1],
    periods: [[[1], [1, 2, 3]]],
    rooms: ['教室名'],
    instructors: ['教員名'],
    overview: '授業概要サンプル',
    remarks: '備考サンプル',
    updatedAt: 1685516850000,
  },
  CL00001: {
    title: '日本語',
    type: 1,
    unit: 2,
    targets: [1],
    termStr: '秋ABC',
    periodStr: '火4',
    terms: [3, 4, 5],
    periods: [[[2], [3]]],
    rooms: ['教室名'],
    instructors: ['教員名'],
    overview: '授業概要サンプル',
    remarks: '備考サンプル',
    updatedAt: 1685516850000,
  },
}

export const serializeToCSV = (rows: string[][]) =>
  rows.map(row => row.map(v => `"${v}"`).join(',')).join('\n')
